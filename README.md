# Notion 英文添削アプリ 📝

Notion と連携して英語の文章を添削するための強力なツールです。このアプリケーションでは、ユーザーが日記などのテキストを入力し、AI 駆動の添削を受け、結果を Notion に直接保存することができます。

## 機能 ✨

- **AI による添削**: 選択した文章スタイルとエラーレベルに合わせた高度な英語添削。
- **カスタマイズ可能なエラー検出**: 文法、語彙、使用法などの特定のエラータイプを選択可能。
- **下書きの自動保存**: 入力中の文章を自動的にローカルに保存。
- **Notion への保存**: 添削された文章をシームレスに Notion ワークスペースに保存。
- **直感的な UI**: ユーザーフレンドリーなインターフェースでリアルタイムのフィードバックとエラー処理を提供。

## 技術スタック 🛠️

- **フロントエンド**: React, Next.js
- **フォーム管理**: React Hook Form, Zod
- **スタイリング**: TailwindCSS, shadcn
- **通知**: Sonner（トースト通知用）
- **マークダウンレンダリング**: React Markdown with GFM（GitHub Flavored Markdown）

## セットアップ 🚀

アプリケーションをローカルで実行するには以下の手順に従ってください：

1. **リポジトリのクローン**:

   ```bash
   git clone https://github.com/your-username/notion-summarize.git
   cd notion-summarize
   ```

2. **依存関係のインストール**:

   ```bash
   npm install
   ```

3. **.env.local ファイルを作成し、環境変数を追加**:

   ```
   NOTION_API_KEY=your_notion_api_key
   NOTION_DATABASE_ID=your_notion_database_id
   GEMINI_API_KEY=your_gemini_id
   ```

4. **開発サーバーの起動**:

   ```bash
   npm run dev
   ```

5. **ブラウザでアプリを開く**:
   ```
   http://localhost:3000
   ```

## 使い方 🖥️

**ステップ 1**: エントリーを書く

- アプリを開き、提供されたテキストエリアに英語で日記エントリーを書きます。
- エントリーは最低 10 文字以上必要です。

**ステップ 2**: 添削をカスタマイズ

- 文章スタイル（カジュアル、フォーマル、ノーマル）を選択します。
- 希望するエラーレベル（基本、中級、上級）を選択します。
- AI に注目してほしいエラータイプ（文法、語彙、使用法）を指定します。

**ステップ 3**: 添削のために送信

- 「添削する」ボタンをクリックしてエントリーを送信します。
- AI がエントリーを処理し、修正版を返します。

**ステップ 4**: Notion に保存

- 修正されたテキストを確認します。
- 「Notion に保存する」ボタンをクリックして、添削されたエントリーを連携された Notion データベースに保存します。

## API エンドポイント 🌐

1. **POST /api/proofread**

   - 入力: 日記エントリー、文章スタイル、エラーレベル、エラータイプ
   - 出力: 添削されたテキスト

2. **POST /api/save-to-notion**
   - 入力: 原文、添削されたテキスト、文章スタイル
   - 出力: Notion への保存成功の確認
